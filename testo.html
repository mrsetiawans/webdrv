<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upgrade Canva Pro - Penawaran Spesial!</title>
    <link rel="icon" type="image/svg+xml" href="https://public.canva.site/logo/media/dfb96cc174513093cd6ed61489ccb750.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode/1.5.1/qrcode.min.js"></script>

    <!-- === KODE FACEBOOK PIXEL DIMULAI DI SINI === -->
    <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '630583642253416');
      fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=630583642253416&ev=PageView&noscript=1"
    /></noscript>
    <!-- === AKHIR DARI KODE FACEBOOK PIXEL === -->

    <style>
        /* === Canva Color Palette & Base Styles === */
        :root {
            --canva-purple: #8C30F5;
            --canva-teal: #05A3B8;
            --canva-dark-text: #0D0C22;
            --canva-light-text: #6B7280;
            --canva-bg-start: #F4E7FF;
            --canva-bg-end: #E8F7FF;
            --canva-card-bg: #FFFFFF;
        }

        body {
            font-family: 'Inter', 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--canva-bg-start) 0%, var(--canva-bg-end) 100%);
            color: var(--canva-dark-text);
        }
        
        .text-gradient {
            background: linear-gradient(90deg, var(--canva-purple), var(--canva-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }

        /* Input Form with Canva style */
        .form-input {
            border: 1px solid #D1D5DB;
            transition: all 0.2s ease-in-out;
            border-radius: 8px;
            padding: 0.9rem 1rem;
            width: 100%;
            background-color: #F9FAFB;
            color: var(--canva-dark-text);
        }
        .form-input:focus {
            border-color: var(--canva-purple);
            background-color: var(--canva-card-bg);
            outline: none;
            box-shadow: 0 0 0 2px rgba(140, 48, 245, 0.2);
        }
        
        /* Call to Action (CTA) Button with Canva Purple */
        .cta-button {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 8px;
            padding: 0.85rem 2rem;
            font-size: 1rem;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            cursor: pointer;
            width: 100%;
            border: none;
            background-color: var(--canva-purple);
            color: white;
        }
        .cta-button:hover {
            background-color: #7a22d4;
            box-shadow: 0 4px 15px rgba(140, 48, 245, 0.3);
            transform: translateY(-2px);
        }
        .cta-button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Modal / Message Box Styling */
        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
            overflow: hidden; background-color: rgba(13, 12, 34, 0.6); backdrop-filter: blur(4px);
        }
        #infoModal {
             justify-content: center; align-items: center;
        }
        .modal-content {
            background-color: var(--canva-card-bg); margin: auto; padding: 24px 32px; width: 90%; max-width: 450px;
            border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); text-align: center; position: relative;
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .modal-content h3 { color: var(--canva-dark-text); margin-bottom: 15px; font-size: 1.5rem; font-weight: 700; }
        .modal-content p { color: var(--canva-light-text); margin-bottom: 20px; line-height: 1.6; }
        .modal-ok-button {
            background-color: var(--canva-purple); color: white; padding: 10px 24px; border: none; border-radius: 8px;
            cursor: pointer; font-size: 1rem; font-weight: 500; transition: background-color 0.2s ease;
        }
        .modal-ok-button:hover { background-color: #7a22d4; }

        /* Testimonial Section */
        .testimonial-image {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        .testimonial-image:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        
        /* Modal untuk Zoom Gambar Testimoni */
        #imageModal {
            justify-content: center; align-items: center;
        }
        #imageModal .modal-content-image {
            margin: auto; display: block; width: auto; max-width: 90%; max-height: 85vh;
            animation: zoomIn 0.3s ease;
        }
        .close-image-modal {
            position: absolute; top: 20px; right: 35px; color: #f1f1f1; font-size: 40px;
            font-weight: bold; transition: 0.3s; cursor: pointer;
        }
        .close-image-modal:hover, .close-image-modal:focus {
            color: #bbb; text-decoration: none;
        }
        @keyframes zoomIn { from {transform: scale(0)} to {transform: scale(1)} }
        
        /* Notifikasi Toast */
        .notif-box {
            position: fixed; top: 24px; left: 50%; transform: translateX(-50%); background-color: var(--canva-dark-text);
            color: #ffffff; border-radius: 9999px; box-shadow: 0 4px 12px rgba(0,0,0,0.25);
            padding: 12px 24px; display: none; align-items: center; gap: 12px; width: auto;
            max-width: 450px; z-index: 1000; opacity: 0;
            transition: opacity 0.4s ease, transform 0.4s ease, top 0.4s ease;
        }
        .notif-box.show { display: flex; opacity: 1; animation: slideInAndOut 5s ease-in-out forwards; }
        @keyframes slideInAndOut {
            0%   { opacity: 0; transform: translateX(-50%) translateY(-30px); }
            10%  { opacity: 1; transform: translateX(-50%) translateY(0); }
            90%  { opacity: 1; transform: translateX(-50%) translateY(0); }
            100% { opacity: 0; transform: translateX(-50%) translateY(-30px); }
        }
        .notif-icon-wrapper { color: var(--canva-purple); font-size: 1.2rem; flex-shrink: 0; }
        .notif-message { font-size: 0.9rem; line-height: 1.2; }
        .notif-message strong { font-weight: 600; }
        .notif-time { font-size: 0.75rem; color: #e2e8f0; margin-top: 2px; }
        @media (max-width: 500px) {
            .notif-box { left: 16px; right: 16px; top: 16px; transform: translateX(0); width: calc(100% - 32px); }
            @keyframes slideInAndOut {
                0%   { opacity: 0; transform: translateY(-20px); } 10%  { opacity: 1; transform: translateY(0); }
                90%  { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-20px); }
            }
        }

        /* Bagian FAQ */
        .faq-item { border-bottom: 1px solid #e5e7eb; }
        .faq-item:last-child { border-bottom: none; }
        .faq-item summary {
            font-weight: 600; font-size: 1rem; color: var(--canva-dark-text);
            padding: 1.25rem 0.5rem; cursor: pointer; list-style: none;
            display: flex; justify-content: space-between; align-items: center;
        }
        .faq-item summary::-webkit-details-marker { display: none; }
        .faq-item summary::after {
            content: '\f078'; /* chevron-down */
            font-family: 'Font Awesome 6 Free'; font-weight: 900;
            transition: transform 0.3s ease; color: var(--canva-light-text);
        }
        .faq-item[open] summary::after { transform: rotate(180deg); }
        .faq-content { padding: 0 0.5rem 1.25rem 0.5rem; color: var(--canva-light-text); line-height: 1.7; }
        .faq-item[open] summary { color: var(--canva-purple); }

        /* Segmented Control for Package Selection */
        .segmented-control {
            display: flex; position: relative; background-color: #e8e6f0;
            border-radius: 8px; padding: 4px; width: 100%;
        }
        .segmented-control .package-radio {
            position: absolute; opacity: 0; width: 0; height: 0;
        }
        .segmented-control .package-label {
            flex: 1; text-align: center; padding: 0.6rem 0.5rem; cursor: pointer;
            z-index: 2; transition: color 0.3s ease; color: var(--canva-light-text);
            font-size: 0.875rem; font-weight: 600; line-height: 1.2; position: relative;
        }
        .segmented-control .package-radio:checked + .package-label {
            color: #fff;
        }
        .segmented-control-pill {
            position: absolute; top: 4px; bottom: 4px;
            width: calc((100% - 8px) / 4);
            background-color: var(--canva-purple); border-radius: 6px;
            box-shadow: 0 2px 5px rgba(140, 48, 245, 0.3);
            z-index: 1; transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .segmented-control .package-radio#pkg-1m:checked ~ .segmented-control-pill { transform: translateX(0%); }
        .segmented-control .package-radio#pkg-6m:checked ~ .segmented-control-pill { transform: translateX(100%); }
        .segmented-control .package-radio#pkg-1y:checked ~ .segmented-control-pill { transform: translateX(200%); }
        .segmented-control .package-radio#pkg-life:checked ~ .segmented-control-pill { transform: translateX(300%); }

        /* Enhanced Product Info Display & Transitions */
        #product-info-form-top { min-height: 180px; }
        #features-before-form { min-height: 430px; }
        .product-info-card {
            background: linear-gradient(135deg, #f9f5ff 0%, #ffffff 100%);
            border: 1px solid #e9d5ff; border-radius: 12px; padding: 1.5rem;
        }

        /* Payment Method Styles */
        .payment-radio {
            position: absolute; opacity: 0; width: 0; height: 0;
        }
        .payment-label {
            display: flex; align-items: center; padding: 1rem 1rem;
            transition: background-color 0.2s ease-in-out; cursor: pointer;
        }
        .payment-label:hover { background-color: #f9fafb; }
        .payment-radio:checked + .payment-label { background-color: #f4e7ff; }
        .payment-group > div:first-child > .payment-label {
            border-top-left-radius: 0.5rem; border-top-right-radius: 0.5rem;
        }
        .payment-group > div:last-child > .payment-label {
            border-bottom-left-radius: 0.5rem; border-bottom-right-radius: 0.5rem;
        }
        .payment-logo {
            height: 24px; width: auto; max-width: 80px; object-fit: contain; margin-right: 1rem;
        }
        .custom-radio-button {
            height: 20px; width: 20px; border: 2px solid #d1d5db; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.2s ease-in-out; flex-shrink: 0; margin-left: 1rem;
        }
        .custom-radio-button .dot {
            height: 10px; width: 10px; border-radius: 50%; background-color: transparent;
            transition: all 0.2s ease-in-out;
        }
        .payment-radio:checked + .payment-label .custom-radio-button {
            border-color: var(--canva-purple);
        }
        .payment-radio:checked + .payment-label .custom-radio-button .dot {
            background-color: var(--canva-purple);
        }

        /* PAYMENT INSTRUCTION LAYOUT STYLES */
        .payment-header {
            background-color: var(--canva-dark-text); color: #fff; padding: 1rem; text-align: center;
        }
        .countdown-timer {
            display: flex; justify-content: center; align-items: center; gap: 0.5rem; margin-top: 0.5rem;
        }
        .countdown-item { display: flex; align-items: center; gap: 0.25rem; }
        .countdown-number {
            background-color: var(--canva-purple); color: white; padding: 0.25rem 0.5rem;
            border-radius: 4px; font-weight: bold; font-size: 1.1rem;
        }
        .payment-card {
            background-color: var(--canva-card-bg); border: 1px solid #e5e7eb; border-radius: 8px;
            padding: 1.5rem; margin-top: 1.5rem;
        }
        .copy-button-text {
            background: none; border: none; color: var(--canva-purple);
            font-weight: 600; cursor: pointer; padding: 0.25rem;
        }
        .copy-button-text:hover { text-decoration: underline; }
        .confirm-button-outlined {
            width: 100%; padding: 0.75rem 1rem; border: 1px solid var(--canva-purple);
            color: var(--canva-purple); background-color: transparent; border-radius: 8px;
            font-weight: 600; cursor: pointer; transition: all 0.2s ease;
        }
        .confirm-button-outlined:hover { background-color: #f4e7ff; }
        .payment-accordion { border-bottom: 1px solid #e5e7eb; }
        .payment-accordion:last-child { border-bottom: none; }
        .payment-accordion summary {
            font-weight: 500; padding: 1rem 0; cursor: pointer; list-style: none;
            display: flex; justify-content: space-between; align-items: center;
        }
        .payment-accordion summary::-webkit-details-marker { display: none; }
        .payment-accordion summary::after {
            content: '\f078'; font-family: 'Font Awesome 6 Free'; font-weight: 900;
            transition: transform 0.2s ease; color: var(--canva-light-text);
        }
        .payment-accordion[open] summary::after { transform: rotate(180deg); }
        .payment-accordion-content {
            padding-bottom: 1rem; color: var(--canva-light-text); line-height: 1.6;
        }
        .payment-accordion-content ol {
            list-style-type: decimal; padding-left: 1.25rem; font-size: 0.9rem;
        }

        /* DETAILS MODAL STYLES (BOTTOM SHEET) */
        #detailsModal { align-items: flex-end; }
        .details-modal-content {
            background-color: var(--canva-card-bg); width: 100%; max-width: 100%;
            border-radius: 16px 16px 0 0; box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
            text-align: left; transform: translateY(100%);
        }
        .details-modal-content.is-open { animation: slideUp 0.3s ease-out forwards; }
        .details-modal-content.is-closing { animation: slideDown 0.3s ease-out forwards; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        @keyframes slideDown { from { transform: translateY(0); } to { transform: translateY(100%); } }
        .details-modal-header {
            padding: 1rem 1.5rem; border-bottom: 1px solid #e5e7eb;
            display: flex; justify-content: space-between; align-items: center;
        }
        .details-modal-header h3 {
            font-size: 1.1rem; font-weight: 600; color: var(--canva-dark-text);
        }
        .details-modal-close {
            font-size: 1.5rem; font-weight: 400; color: var(--canva-light-text);
            cursor: pointer; background: none; border: none;
        }
        .details-modal-body {
            padding: 1rem 1.5rem 1.5rem 1.5rem; max-height: 60vh; overflow-y: auto;
        }
    </style>
</head>
<body class="antialiased">

    <div id="payment-instruction-container">
        <!-- Konten akan di-generate oleh JavaScript -->
    </div>
    <div class="p-4 sm:p-6 lg:p-8">
        <div id="main-content-container">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-16 gap-y-8 max-w-7xl mx-auto">
                <!-- Kolom Kiri: Form & Pembayaran -->
                <div class="lg:col-span-1 bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                    <!-- Header Keamanan -->
                    <div class="grid grid-cols-2 gap-4 text-center border-b border-gray-200 pb-6 mb-6">
                        <div class="flex items-center justify-center gap-3">
                            <i class="fas fa-shield-alt text-green-500 text-xl"></i>
                            <h3 class="font-medium text-sm text-gray-600">TRANSAKSI AMAN</h3>
                        </div>
                        <div class="flex items-center justify-center gap-3">
                            <i class="fas fa-hand-holding-usd text-blue-500 text-xl"></i>
                            <h3 class="font-medium text-sm text-gray-600">GARANSI UANG KEMBALI</h3>
                        </div>
                    </div>
                    
                    <!-- Pemilihan Paket (Segmented Control) -->
                    <div class="mb-6">
                        <h2 class="text-xl font-bold mb-4 text-gray-800">1. Pilih Paket Anda</h2>
                        <div id="package-selection">
                            <div class="segmented-control">
                                <input type="radio" id="pkg-1m" name="package" value="1m" class="package-radio" checked>
                                <label for="pkg-1m" class="package-label">1 Bulan</label>
    
                                <input type="radio" id="pkg-6m" name="package" value="6m" class="package-radio">
                                <label for="pkg-6m" class="package-label">6 Bulan</label>
    
                                <input type="radio" id="pkg-1y" name="package" value="1y" class="package-radio">
                                <label for="pkg-1y" class="package-label">1 Tahun</label>
                                
                                <input type="radio" id="pkg-life" name="package" value="life" class="package-radio">
                                <label for="pkg-life" class="package-label">Lifetime</label>
    
                                <div class="segmented-control-pill"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Info Produk -->
                    <div id="product-info-form-top" class="mb-6"></div>

                    <!-- Fitur -->
                    <div id="features-before-form" class="mb-6"></div>

                    <!-- Form -->
                    <form id="orderForm">
                        <h2 class="text-xl font-bold mb-5 text-gray-800">2. Lengkapi Data</h2>
                        <div class="space-y-4">
                            <div>
                                <label for="nama" class="block text-sm font-medium mb-1 text-gray-700">Nama Anda <span class="text-red-500">*</span></label>
                                <input type="text" id="nama" name="nama" class="form-input w-full" placeholder="Masukkan nama lengkap Anda">
                            </div>
                            <div>
                                <label for="whatsapp" class="block text-sm font-medium mb-1 text-gray-700">No. WhatsApp Anda <span class="text-red-500">*</span></label>
                                <input type="tel" id="whatsapp" name="whatsapp" class="form-input w-full" placeholder="Contoh: 081234567890">
                            </div>
                            <div>
                                <label for="email" class="block text-sm font-medium mb-1 text-gray-700">Email Canva Anda <span class="text-red-500">*</span></label>
                                <input type="email" id="email" name="email" class="form-input w-full" placeholder="Email yang terdaftar di Canva">
                            </div>
                        </div>
                        
                        <!-- Honeypot field for anti-spam -->
                        <input type="text" name="honeypot" style="display: none" tabindex="-1" autocomplete="off">

                        <!-- Metode Pembayaran -->
                        <div id="payment-method-selection" class="mt-8"></div>
                        
                        <!-- Rincian Pesanan -->
                        <div id="order-details-in-form" class="mt-8"></div>
                        
                        <button type="button" id="submit-btn" class="cta-button mt-8">
                            Upgrade Sekarang
                        </button>
                    </form>
                </div>

                <!-- Kolom Kanan: Testimoni, FAQ, Kebijakan -->
                <div class="lg:col-span-1 py-8">
                     <div id="testimonials-full"></div>
                     <div class="mt-12 bg-white p-8 md:p-10 rounded-2xl shadow-lg">
                         <div id="faq-full"></div>
                     </div>
                     <div class="mt-12 bg-white p-8 md:p-10 rounded-2xl shadow-lg">
                         <div id="policy-full"></div>
                     </div>
                </div>
            </div>
        </div>
        
        <footer id="footer" class="text-center mt-16 text-gray-500 text-sm">
            <p>Copyright © <span id="currentYear">2025</span> Canva Pro ID. Semua Hak Dilindungi.</p>
        </footer>
    </div>

    <!-- Modal for Info/Confirmation -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <h3 id="modalTitle"></h3>
            <p id="modalMessage"></p>
            <button class="modal-ok-button" onclick="closeInfoModal()">OK</button>
        </div>
    </div>

    <!-- Modal untuk Zoom Gambar -->
    <div id="imageModal" class="modal">
        <span class="close-image-modal" onclick="closeImageModal()">&times;</span>
        <img class="modal-content-image" id="modalImage">
    </div>
    
    <!-- NEW: Modal for Transaction Details -->
    <div id="detailsModal" class="modal">
        <div class="details-modal-content" id="detailsModalContent">
            <!-- Content will be injected by JS -->
        </div>
    </div>

    <!-- Notification Popup -->
    <div class="notif-box" id="notifBox">
        <div class="notif-icon-wrapper"><i class="fas fa-check-circle"></i></div>
        <div class="notif-content-area">
             <div class="notif-message">
                 <div><strong class="notif-name">Nama Acak</strong> baru saja upgrade!</div>
                 <div class="notif-time">beberapa detik lalu</div>
             </div>
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', function() {

        // --- ELEMENTS ---
        const elements = {
            mainContentContainer: document.getElementById('main-content-container'),
            paymentInstructionContainer: document.getElementById('payment-instruction-container'),
            footer: document.getElementById('footer'),
            currentYear: document.getElementById('currentYear'),
            productInfoFormTop: document.getElementById('product-info-form-top'),
            featuresBeforeForm: document.getElementById('features-before-form'),
            paymentMethodSelection: document.getElementById('payment-method-selection'),
            orderDetailsInForm: document.getElementById('order-details-in-form'),
            testimonialsFull: document.getElementById('testimonials-full'),
            faqFull: document.getElementById('faq-full'),
            policyFull: document.getElementById('policy-full'),
            orderForm: document.getElementById('orderForm'),
            submitBtn: document.getElementById('submit-btn'),
            notifBox: document.getElementById('notifBox'),
            notifName: document.querySelector('#notifBox .notif-name'),
            detailsModal: document.getElementById('detailsModal'),
            detailsModalContent: document.getElementById('detailsModalContent'),
        };

        // --- CONFIGURATION ---
        const uniqueCode = Math.floor(Math.random() * (500 - 100 + 1)) + 100;
        let countdownInterval;
        let expiryTime;
        let currentOrderDetails = {};
        
        const allTestimonials = [
            "https://placehold.co/600x800/E9D5FF/8C30F5?text=Template+Presentasi",
            "https://placehold.co/600x800/C9E9FF/05A3B8?text=Desain+Instagram",
            "https://placehold.co/600x800/DBEAFE/8C30F5?text=Logo+Bisnis",
            "https://placehold.co/600x800/FEF3C7/F59E0B?text=Konten+Video"
        ];

        const packages = {
            '1m': {
                id: '1m',
                name: "Canva Pro 1 Bulan",
                price: 29000,
                title: "UPGRADE CANVA PRO",
                priceDisplay: `Rp29.000`,
                logo: 'https://public.canva.site/logo/media/dfb96cc174513093cd6ed61489ccb750.svg',
                description: "Buka semua fitur desain premium tanpa batas.",
                durationText: "Untuk 1 Bulan",
            },
            '6m': {
                id: '6m',
                name: "Canva Pro 6 Bulan",
                price: 59000,
                title: "UPGRADE CANVA PRO",
                priceDisplay: `Rp59.000`,
                logo: 'https://public.canva.site/logo/media/dfb96cc174513093cd6ed61489ccb750.svg',
                description: "Buka semua fitur desain premium tanpa batas.",
                durationText: "Untuk 6 Bulan",
            },
            '1y': {
                id: '1y',
                name: "Canva Pro 1 Tahun",
                price: 79000,
                title: "UPGRADE CANVA PRO",
                priceDisplay: `Rp79.000`,
                logo: 'https://public.canva.site/logo/media/dfb96cc174513093cd6ed61489ccb750.svg',
                description: "Buka semua fitur desain premium tanpa batas.",
                durationText: "Untuk 1 Tahun",
            },
            life: {
                id: 'life',
                name: "Canva Pro Lifetime",
                price: 99000,
                title: "UPGRADE CANVA PRO",
                priceDisplay: `Rp99.000`,
                logo: 'https://public.canva.site/logo/media/dfb96cc174513093cd6ed61489ccb750.svg',
                description: "Buka semua fitur desain premium tanpa batas.",
                durationText: "Untuk Selamanya",
            }
        };
        
        const allFeatures = [
            "<strong>Fitur Ajaib (Canva AI):</strong> Buat tulisan, gambar, dan presentasi secara otomatis.",
            "<strong>Konten Premium Tanpa Batas:</strong> Akses 100+ juta foto, elemen, video, dan audio premium.",
            "<strong>Penghapus Latar Belakang Cerdas:</strong> Hapus background foto & video dengan sekali klik.",
            "<strong>Ribuan Template Premium:</strong> Akses ribuan template profesional.",
            "<strong>Animasi Instan:</strong> Animasikan grafik dan teks dengan mudah.",
            "<strong>Ubah Ukuran Ajaib:</strong> Ubah ukuran desain ke format apa pun secara instan.",
            "<strong>Penjadwal Konten Media Sosial:</strong> Rencanakan dan jadwalkan postingan ke media sosial.",
            "<strong>Kit Merek Profesional:</strong> Unggah logo, font, dan palet warna merek Anda.",
            "<strong>Penyimpanan Cloud 1 TB:</strong> Simpan semua proyek dengan aman.",
            "<strong>Upgrade Akun Pribadi Anda:</strong> Proses aman, cepat, dan bergaransi pada akun yang sudah ada."
        ];

        let currentPackageId = '1m'; // Paket default

        const paymentAccounts = {
            jago: {
                displayName: 'Bank Jago',
                accountHolder: 'Anang Dude Juliawan',
                number: '109594117900',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Logo-jago.svg/1920px-Logo-jago.svg.png',
                type: 'bank',
                category: 'Bank Transfer'
            },
            cimb: {
                displayName: 'CIMB Niaga',
                accountHolder: 'Octo Pay - 6289510639366',
                number: '6289510639366',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/CIMB_Niaga_logo.svg/1920px-CIMB_Niaga_logo.svg.png',
                type: 'bank',
                category: 'Bank Transfer'
            },
            permata: {
                displayName: 'Permata Bank',
                accountHolder: 'DNID089510639366',
                number: '8528089510639366',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Permata_Bank_%282024%29.svg/768px-Permata_Bank_%282024%29.svg.png',
                type: 'bank',
                category: 'Bank Transfer'
            },
            bca_va: {
                displayName: 'BCA Virtual Account',
                accountHolder: 'Epayment',
                number: '39358089510639366',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Bank_Central_Asia.svg/2560px-Bank_Central_Asia.svg.png',
                type: 'va',
                category: 'Virtual Account'
            },
            gopay: {
                displayName: 'Gopay',
                accountHolder: '-',
                number: '089510639366',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/00/Logo_Gopay.svg/768px-Logo_Gopay.svg.png',
                type: 'ewallet',
                category: 'E-Wallet'
            },
            dana: {
                displayName: 'DANA',
                accountHolder: '-',
                number: '089510639366',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Logo_dana_blue.svg/768px-Logo_dana_blue.svg.png',
                type: 'ewallet',
                category: 'E-Wallet'
            },
            ovo: {
                displayName: 'OVO',
                accountHolder: 'OVO Epayment',
                number: '089510639366',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Logo_ovo_purple.svg/768px-Logo_ovo_purple.svg.png',
                type: 'ewallet',
                category: 'E-Wallet'
            }
        };

        // --- TEMPLATE FUNCTIONS ---
        const getProductInfoHTML = (pkg) => `
        <div class="product-info-card">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                <div class="text-center mb-4 md:mb-0 flex-grow">
                    <div class="flex justify-center"><img alt="Logo ${pkg.name}" class="h-12 w-auto" src="${pkg.logo}"></div>
                    <h1 class="text-2xl font-extrabold text-gradient mt-3">${pkg.title}</h1>
                    <p class="text-md text-gray-600">${pkg.description}</p>
                </div>
                <div class="text-center md:text-right mt-4 md:mt-0 md:pl-4">
                    <div id="price-display" class="text-4xl font-bold" style="color: var(--canva-purple);">${pkg.priceDisplay}</div>
                    <p id="duration-text" class="text-gray-500 text-sm mt-1">${pkg.durationText}</p>
                </div>
            </div>
        </div>`;

        const getFeaturesHTML = () => {
            const colors = ['#8C30F5', '#05A3B8', '#F59E0B', '#EF4444'];
            return `<div class="bg-purple-50/50 p-6 rounded-xl">
                <h3 class="text-lg font-bold mb-4 text-gray-800">Yang Anda Dapatkan:</h3>
                <ul class="space-y-4">${allFeatures.map((f, index) => `<li class="flex items-start"><i class="fas fa-check-circle mt-1 mr-3" style="color:${colors[index % colors.length]}"></i><span class="text-gray-600">${f}</span></li>`).join('')}</ul>
            </div>`;
        }
        
        const getPaymentMethodsHTML = (accounts) => {
            const groupedAccounts = {};
            for (const key in accounts) {
                const account = accounts[key];
                if (!groupedAccounts[account.category]) {
                    groupedAccounts[account.category] = [];
                }
                groupedAccounts[account.category].push({ key, ...account });
            }

            let html = `<h2 class="text-xl font-bold mb-5 text-gray-800">3. Pilih Metode Pembayaran</h2>`;
            const categoryOrder = ['Bank Transfer', 'Virtual Account', 'E-Wallet'];

            for (const category of categoryOrder) {
                if (groupedAccounts[category]) {
                    html += `<h3 class="text-lg font-semibold text-gray-700 mt-6 mb-3">${category}</h3>`;
                    html += `<div class="border border-gray-200 rounded-lg payment-group">`;

                    groupedAccounts[category].forEach((account, index) => {
                        const isFirst = index === 0 && category === 'Bank Transfer';
                        const isLast = index === groupedAccounts[category].length - 1;
                        
                        html += `
                            <div class="${!isLast ? 'border-b border-gray-200' : ''}">
                                <input type="radio" id="${account.key}" name="payment-method" value="${account.key}" class="payment-radio" ${isFirst ? 'checked' : ''}>
                                <label for="${account.key}" class="payment-label">
                                    <img src="${account.logo}" alt="Logo ${account.displayName}" class="payment-logo">
                                    <span class="font-medium text-gray-800 flex-grow">${account.displayName}</span>
                                    <span class="custom-radio-button"><span class="dot"></span></span>
                                </label>
                            </div>
                        `;
                    });
                    html += `</div>`;
                }
            }
            return html;
        };

        const getOrderDetailsHTML = (pkg, totalPrice) => `
            <div class="mt-8 pt-6 border-t border-gray-200">
                 <h3 class="text-lg font-bold mb-4 text-gray-800">Rincian Pesanan</h3>
                 <div class="bg-gray-50 p-4 rounded-xl space-y-3 text-gray-600">
                      <div class="flex justify-between items-center">
                          <span>${pkg.name}</span>
                          <div class="text-right">
                              <span class="font-medium text-gray-800">${formatCurrency(pkg.price)}</span>
                          </div>
                      </div>
                      <div class="flex justify-between">
                          <span>Kode Unik</span>
                          <span class="font-medium text-gray-800">${formatCurrency(uniqueCode)}</span>
                      </div>
                      <hr class="my-2 border-gray-200">
                      <div class="flex justify-between font-bold text-lg text-gray-900">
                          <span>Total</span>
                          <span>${formatCurrency(totalPrice)}</span>
                      </div>
                 </div>
            </div>`;

        const getTestimonialsHTML = () => {
            let imagesHTML = allTestimonials.map(url => `
                <img src="${url}" alt="Testimoni Pelanggan Canva Pro" class="testimonial-image rounded-lg w-full h-auto object-cover aspect-[3/4]" onclick="openImageModal(event, this.src)">
            `).join('');

            return `
            <div>
                <h2 class="text-2xl font-bold text-center mb-8 text-gray-800">Testimoni Pelanggan Kami</h2>
                <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                    ${imagesHTML}
                </div>
            </div>`;
        }

        const getFaqHTML = () => `
             <div>
                 <h3 class="text-2xl font-bold mb-6 text-center text-gray-800">Pertanyaan Umum (FAQ)</h3>
                 <div class="space-y-2">
                     <details class="faq-item">
                         <summary>Apakah ini aman dan legal?</summary>
                         <div class="faq-content">Ya, proses upgrade melalui undangan resmi dan sah. Kami tidak akan pernah meminta password akun Anda.</div>
                     </details>
                     <details class="faq-item">
                         <summary>Apakah ini sistem tim yang sering berganti?</summary>
                         <div class="faq-content">Tidak, Anda akan diundang ke tim privat yang permanen dan stabil, bukan tim publik yang sering bermasalah.</div>
                     </details>
                     <details class="faq-item">
                         <summary>Berapa lama prosesnya?</summary>
                         <div class="faq-content">Sangat cepat. Setelah konfirmasi pembayaran, proses aktivasi biasanya hanya beberapa menit, maksimal 1x24 jam.</div>
                     </details>
                     <details class="faq-item">
                         <summary>Bisakah digunakan di HP dan Komputer?</summary>
                         <div class="faq-content">Tentu saja. Status Pro akan aktif di semua perangkat (website, aplikasi desktop, dan aplikasi mobile) selama Anda login dengan akun yang sama.</div>
                     </details>
                     <details class="faq-item">
                         <summary>Apakah ini benar-benar seumur hidup?</summary>
                         <div class="faq-content">Ya, untuk paket Lifetime, ini adalah sistem pembayaran sekali untuk selamanya. Anda bisa menikmati fitur Pro selama tim kami masih aktif.</div>
                     </details>
                 </div>
             </div>
        `;
        
        const getPolicyHTML = () => `
            <div>
                <h3 class="text-2xl font-bold mb-4 text-center text-gray-800">Kebijakan & Ketentuan</h3>
                <div class="space-y-6 text-sm text-gray-600">
                    <div>
                        <h4 class="text-lg font-bold mb-2 text-gray-800">Kebijakan Privasi</h4>
                        <p>Informasi email yang Anda berikan hanya digunakan untuk keperluan upgrade (mengirim undangan tim) dan tidak akan pernah dibagikan ke pihak lain. Kami <strong>tidak pernah</strong> meminta atau menyimpan kata sandi Anda.</p>
                    </div>
                    <div>
                        <h4 class="text-lg font-bold mb-2 text-gray-800">Syarat & Ketentuan</h4>
                         <p>Garansi penuh diberikan jika proses upgrade gagal dari sisi kami. Garansi tidak mencakup pemblokiran akun akibat pelanggaran kebijakan Canva oleh pengguna (misalnya, membuat konten ilegal). Perubahan kebijakan dari pihak Canva di masa depan berada di luar kendali kami.</p>
                    </div>
                </div>
            </div>
        `;

        // --- FUNCTIONS ---
        function formatCurrency(value) {
            return `Rp${value.toLocaleString('id-ID', { minimumFractionDigits: 0 })}`;
        }

        function getIndonesianTimezone() {
            const offset = new Date().getTimezoneOffset() / -60;
            if (offset === 7) return 'WIB';
            if (offset === 8) return 'WITA';
            if (offset === 9) return 'WIT';
            const sign = offset > 0 ? '+' : '-';
            const hours = Math.abs(Math.floor(offset));
            return `GMT${sign}${String(hours).padStart(2, '0')}:00`;
        }

        function initializeStaticContent() {
            const initialPkg = packages[currentPackageId];
            elements.productInfoFormTop.innerHTML = getProductInfoHTML(initialPkg);
            elements.featuresBeforeForm.innerHTML = getFeaturesHTML();
            elements.testimonialsFull.innerHTML = getTestimonialsHTML();
            elements.faqFull.innerHTML = getFaqHTML();
            elements.policyFull.innerHTML = getPolicyHTML();
            elements.paymentMethodSelection.innerHTML = getPaymentMethodsHTML(paymentAccounts);
        }
        
        function updateDynamicContent() {
            const pkg = packages[currentPackageId];
            const totalPrice = pkg.price + uniqueCode;

            // Update price and duration text
            const priceDisplayEl = document.getElementById('price-display');
            const durationTextEl = document.getElementById('duration-text');
            if(priceDisplayEl) priceDisplayEl.textContent = pkg.priceDisplay;
            if(durationTextEl) durationTextEl.textContent = pkg.durationText;

            // Update order details in form
            elements.orderDetailsInForm.innerHTML = getOrderDetailsHTML(pkg, totalPrice);
        }


        function generateWaLink(formData, pkg, totalPrice, paymentMethodName, paymentId) {
            const pesanWA = `Halo, saya ingin konfirmasi pembayaran untuk pesanan:\n\n` +
                          `*ID Pembayaran:* ${paymentId}\n` +
                          `*Paket:* ${pkg.name}\n` +
                          `*Metode Pembayaran:* ${paymentMethodName}\n` +
                          `*Nama:* ${formData.get('nama')}\n` +
                          `*No. WhatsApp:* ${formData.get('whatsapp')}\n` +
                          `*Email Canva:* ${formData.get('email')}\n` +
                          `*Total Transfer:* ${formatCurrency(totalPrice)}\n\n` +
                          `Saya sudah melakukan transfer. Mohon untuk segera diproses. Terima kasih.`;
            return `https://wa.me/6285602152097?text=${encodeURIComponent(pesanWA)}`;
        }

        function showPaymentInstructions(formData, pkg, totalPrice, paymentAccount, paymentId, paymentMethodKey) {
            window.scrollTo(0, 0);
            
            if (typeof fbq === 'function') {
                fbq('track', 'AddPaymentInfo', { content_name: pkg.name, content_category: 'Software', currency: 'IDR', value: totalPrice });
            }
            
            currentOrderDetails = {
                pkg, totalPrice, paymentId,
                nama: formData.get('nama'),
                whatsapp: formData.get('whatsapp')
            };

            elements.mainContentContainer.parentElement.style.display = 'none';
            elements.footer.style.display = 'none';
            
            const waLink = generateWaLink(formData, pkg, totalPrice, paymentAccount.displayName, paymentId);
            
            let accountLabel = paymentAccount.type === 'va' ? 'Nomor Virtual Account' : 'Nomor Rekening';
            let instructionAccordionHTML = '';
            let paymentDetailsBlock = '';
            let paymentDeadlineFormatted = '';

            expiryTime = new Date(new Date().getTime() + 24 * 60 * 60 * 1000);
            
            const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const datePart = expiryTime.toLocaleDateString('id-ID', dateOptions);
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
            const timePart = expiryTime.toLocaleTimeString('id-ID', timeOptions).replace(/\./g, ':');
            const timezoneString = `(${getIndonesianTimezone()})`;
            paymentDeadlineFormatted = `${datePart} pukul ${timePart} ${timezoneString}`;

            paymentDetailsBlock = `
                <div class="mt-4">
                    <p class="text-sm text-gray-500">${accountLabel}</p>
                    <div class="flex justify-between items-center">
                        <p class="text-xl font-semibold text-gray-800 tracking-wider">${paymentAccount.number}</p>
                        <button onclick="copyToClipboard('${paymentAccount.number}', '${accountLabel}')" class="copy-button-text">Salin</button>
                    </div>
                </div>
            `;
            
            instructionAccordionHTML = `
                <details class="payment-accordion"><summary>Instruksi Umum</summary><div class="payment-accordion-content"><ol class="space-y-2">
                    <li>Buka aplikasi perbankan atau e-wallet Anda.</li>
                    <li>Pilih menu transfer atau pembayaran.</li>
                    <li>Masukkan detail pembayaran yang tertera di atas.</li>
                    <li>Pastikan nominal transfer sesuai dengan total pembayaran hingga digit terakhir.</li>
                    <li>Selesaikan transaksi dan simpan bukti pembayaran Anda.</li>
                </ol></div></details>
            `;

            const paymentViewHTML = `
                <div class="payment-header">
                    <h2 class="text-lg font-semibold">Selesaikan Pembayaran</h2>
                    <div class="countdown-timer" id="countdown-timer-display"></div>
                </div>
                <div class="max-w-lg mx-auto">
                    <div class="p-4">
                        <div class="payment-card">
                            <h3 class="font-bold text-lg">Ringkasan Transaksi</h3>
                            <div class="flex justify-between items-center mt-2 text-sm text-gray-600">
                                <span>Nomor Invoice: ${paymentId}</span>
                                <a href="#" onclick="showDetailsModal(event)" class="font-semibold" style="color:var(--canva-purple);">Lihat detail</a>
                            </div>
                            <hr class="my-4">
                            <p class="text-sm text-gray-600">Total Pembayaran</p>
                            <div class="flex items-center">
                                <p class="text-2xl font-bold text-gray-800">${formatCurrency(totalPrice)}</p>
                                <button onclick="copyToClipboard('${totalPrice}', 'Total Pembayaran')" class="copy-button-text"><i class="far fa-copy"></i></button>
                            </div>
                        </div>
                        <div class="payment-card">
                            <h3 class="font-bold text-lg">Silahkan Bayar ke</h3>
                            <div class="flex justify-between items-start mt-4">
                                <div>
                                    <p class="text-sm text-gray-500">${paymentAccount.displayName}</p>
                                    <p class="font-semibold text-gray-800">${paymentAccount.accountHolder}</p>
                                </div>
                                <img src="${paymentAccount.logo}" alt="Logo ${paymentAccount.displayName}" class="h-8">
                            </div>
                            ${paymentDetailsBlock}
                            <div class="mt-6">
                                <p class="text-sm text-gray-500">Bayar Sebelum</p>
                                <p class="font-semibold text-gray-800">${paymentDeadlineFormatted}</p>
                            </div>
                            <a href="${waLink}" target="_blank" class="block mt-6">
                               <button class="confirm-button-outlined">Konfirmasi Pembayaran</button>
                            </a>
                        </div>
                        <div class="payment-card">
                            <h3 class="font-bold text-lg">Cara Membayar</h3>
                            <div class="mt-2">
                                ${instructionAccordionHTML}
                            </div>
                        </div>
                    </div>
                </div>
            `;
            elements.paymentInstructionContainer.innerHTML = paymentViewHTML;
            startCountdown();
        }

        async function handleFormSubmit() {
            const formData = new FormData(elements.orderForm);
            const nama = formData.get('nama').trim();
            const whatsapp = formData.get('whatsapp').trim();
            const email = formData.get('email').trim();
            const paymentMethodKey = formData.get('payment-method');

            if (!nama || !whatsapp || !email || !paymentMethodKey) {
                showInfoModal('Data Belum Lengkap', 'Mohon lengkapi semua data yang diperlukan sebelum melanjutkan.');
                return;
            }

            elements.submitBtn.disabled = true;
            elements.submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Memproses...';

            const pkg = packages[currentPackageId];
            const totalPrice = pkg.price + uniqueCode;
            const paymentAccount = paymentAccounts[paymentMethodKey];
            const now = new Date();
            const paymentId = `INV-CNV-${now.getFullYear()}${String(now.getMonth() + 1).padStart(2, '0')}${String(now.getDate()).padStart(2, '0')}${String(now.getHours()).padStart(2, '0')}${String(now.getMinutes()).padStart(2, '0')}${String(totalPrice).slice(-3)}`;

            // Simulate submission
            setTimeout(() => {
                elements.submitBtn.disabled = false;
                elements.submitBtn.innerHTML = 'Upgrade Sekarang';
                showPaymentInstructions(formData, pkg, totalPrice, paymentAccount, paymentId, paymentMethodKey);
            }, 1000);
        }
        
        function startCountdown() {
            const countdownElement = document.getElementById('countdown-timer-display');
            if (!countdownElement || !expiryTime) return;

            const interval = setInterval(() => {
                const now = new Date().getTime();
                const distance = expiryTime - now;

                if (distance < 0) {
                    clearInterval(interval);
                    countdownElement.innerHTML = "Waktu Habis";
                    return;
                }

                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                countdownElement.innerHTML = `
                    <div class="countdown-item">
                        <span class="countdown-number">${String(hours).padStart(2, '0')}</span> Jam
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-number">${String(minutes).padStart(2, '0')}</span> Menit
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-number">${String(seconds).padStart(2, '0')}</span> Detik
                    </div>
                `;
            }, 1000);
        }

        const FIRST_NAMES = [ "Adi", "Budi", "Cahya", "Dedi", "Eka", "Fajar", "Gilang", "Hadi", "Indra", "Joko", "Lina", "Mira", "Nana", "Putri", "Rahmat", "Sari", "Tono", "Wulan" ];
        
        function getRandomElement(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
        function generateRandomName() { return `${getRandomElement(FIRST_NAMES)}`; }
        
        function showNextNotification() {
            if (!elements.notifBox || !elements.notifName) return;
            elements.notifName.textContent = generateRandomName();
            elements.notifBox.classList.remove('show');
            void elements.notifBox.offsetWidth;
            elements.notifBox.classList.add('show');
        }

        function scheduleNextNotification() {
            const randomDelay = Math.floor(Math.random() * 10000) + 8000;
            setTimeout(() => {
                showNextNotification();
                scheduleNextNotification();
            }, randomDelay);
        }

        // --- INITIALIZATION ---
        elements.currentYear.textContent = new Date().getFullYear();
        elements.submitBtn.addEventListener('click', handleFormSubmit);

        document.querySelectorAll('input[name="package"]').forEach(radio => {
            radio.addEventListener('change', (event) => {
                currentPackageId = event.target.value;
                updateDynamicContent();
            });
        });

        initializeStaticContent();
        updateDynamicContent();
        
        if (elements.notifBox && elements.notifName) {
            setTimeout(scheduleNextNotification, 6000);
        }
        
        function getDetailsModalHTML(details) {
            const { pkg, totalPrice, paymentId, nama, whatsapp } = details;
            return `
                <div class="details-modal-header">
                    <h3>Ringkasan Transaksi</h3>
                    <button class="details-modal-close" onclick="closeDetailsModal()">&times;</button>
                </div>
                <div class="details-modal-body">
                    <p class="text-sm text-gray-500 mb-4">Nomor Invoice: ${paymentId}</p>
                    <div class="text-center mb-6">
                        <p class="text-sm text-gray-600">Total Pembayaran</p>
                        <div class="flex items-center justify-center">
                            <p class="text-3xl font-bold text-gray-800">${formatCurrency(totalPrice)}</p>
                            <button onclick="copyToClipboard('${totalPrice}', 'Total Pembayaran')" class="copy-button-text"><i class="far fa-copy"></i></button>
                        </div>
                    </div>
                    <div class="space-y-4 border-t border-b border-gray-200 py-4 mb-4">
                        <div>
                            <div class="flex justify-between text-sm">
                                <span>${pkg.name}</span>
                                <span class="font-medium">${formatCurrency(pkg.price)}</span>
                            </div>
                        </div>
                         <div class="flex justify-between text-sm">
                            <span class="text-gray-500">Kode Unik</span>
                            <span class="font-medium">${formatCurrency(uniqueCode)}</span>
                        </div>
                    </div>
                    <div class="space-y-2 mb-6">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">Subtotal</span>
                            <span>${formatCurrency(totalPrice)}</span>
                        </div>
                        <div class="flex justify-between font-bold">
                            <span>Total Pembayaran</span>
                            <span>${formatCurrency(totalPrice)}</span>
                        </div>
                    </div>
                    <div class="border-t border-gray-200 pt-4">
                        <h4 class="font-semibold mb-3 text-sm">Informasi Pelanggan</h4>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div>
                                <p class="text-gray-500">Nama</p>
                                <p class="font-medium">${nama}</p>
                            </div>
                            <div>
                                <p class="text-gray-500">Nomor Telepon</p>
                                <p class="font-medium">${whatsapp}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        window.showDetailsModal = function(event) {
            event.preventDefault();
            elements.detailsModalContent.innerHTML = getDetailsModalHTML(currentOrderDetails);
            elements.detailsModal.style.display = 'flex';
            elements.detailsModalContent.classList.remove('is-closing');
            elements.detailsModalContent.classList.add('is-open');
        }

        window.closeDetailsModal = function() {
            elements.detailsModalContent.classList.remove('is-open');
            elements.detailsModalContent.classList.add('is-closing');
            setTimeout(() => {
                elements.detailsModal.style.display = 'none';
            }, 300);
        }
    });

    const infoModal = document.getElementById('infoModal');
    
    function showInfoModal(title, message) {
        if (!infoModal) return;
        infoModal.querySelector('#modalTitle').textContent = title;
        infoModal.querySelector('#modalMessage').textContent = message;
        infoModal.style.display = 'flex';
    }

    function closeInfoModal() {
        if (!infoModal) return;
        infoModal.style.display = 'none';
    }

    window.onclick = function(event) {
        if (event.target == infoModal) { closeInfoModal(); }
        if (event.target == document.getElementById('detailsModal')) { closeDetailsModal(); }
        if (event.target == document.getElementById('imageModal')) { closeImageModal(); }
    }

    function copyToClipboard(text, entityName) {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        try {
            document.execCommand('copy');
            showInfoModal('Berhasil Disalin!', `${entityName} telah disalin ke clipboard.`);
        } catch (err) {
            showInfoModal('Gagal!', 'Gagal menyalin. Silakan coba secara manual.');
        }
        document.body.removeChild(textArea);
    }
    
    const imageModal = document.getElementById('imageModal');
    const modalImg = document.getElementById("modalImage");

    window.openImageModal = function(event, src) {
        event.stopPropagation();
        imageModal.style.display = "flex";
        modalImg.src = src;
    }

    window.closeImageModal = function() {
        imageModal.style.display = "none";
    }
    </script>

</body>
</html>
